<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>VFit Fitness Dashboard</title>

    <!-- Existing libraries (UNCHANGED) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css"/>

    <!-- Offline-first support (ADD ONLY) -->
    <link rel="manifest" href="manifest.json"/>
</head>

<body class="bg-gray-100 text-gray-800">

<!-- =========================================================
     BURGER MENU BUTTON (ADD ONLY)
========================================================= -->
<button id="burger-btn"
        class="fixed top-4 left-4 z-[2100] bg-white p-3 rounded-xl shadow-lg">
    <i class="fas fa-bars text-xl"></i>
</button>

<!-- =========================================================
     SIDE NAV MENU (SLIDE-IN STRUCTURE)
========================================================= -->
<nav id="side-menu"
     class="fixed top-0 left-0 h-full w-64 bg-white shadow-2xl transform -translate-x-full transition-transform duration-300 z-[2000]">

    <div class="p-6 border-b">
        <h2 class="text-xl font-black text-indigo-600">VFit Menu</h2>
    </div>

    <div class="flex flex-col p-4 gap-2">
        <button data-nav="dashboard" onclick="navigate('dashboard')" class="menu-btn">
            <i class="fas fa-home mr-2"></i> Dashboard
        </button>
        <button data-nav="gym-config" onclick="navigate('gym-config')" class="menu-btn">
            <i class="fas fa-dumbbell mr-2"></i> Gym Config
        </button>
        <button data-nav="plan-workout" onclick="navigate('plan-workout')" class="menu-btn">
            <i class="fas fa-running mr-2"></i> Training
        </button>
        <button data-nav="meal-log" onclick="navigate('meal-log')" class="menu-btn">
            <i class="fas fa-utensils mr-2"></i> Nutrition
        </button>
        <button data-nav="body-metrics" onclick="navigate('body-metrics')" class="menu-btn">
            <i class="fas fa-ruler-combined mr-2"></i> Body Metrics
        </button>
        <button data-nav="history" onclick="openHistory()" class="menu-btn">
            <i class="fas fa-chart-line mr-2"></i> History
        </button>
    </div>
</nav>

<!-- =========================================================
     MAIN APP CONTAINER (UNCHANGED ROOT)
========================================================= -->
<div class="max-w-6xl mx-auto p-4 space-y-6">

<!-- =========================================================
     DASHBOARD VIEW (EXTENDED â€“ ADD ONLY)
========================================================= -->
<div id="view-dashboard" class="view-container space-y-6">

    <header class="bg-white p-6 rounded-2xl shadow-xl">
        <h1 class="text-3xl font-black mb-2">Dashboard</h1>
        <p class="text-gray-500">Daily overview of your training & nutrition</p>
    </header>

    <!-- DASHBOARD OVERVIEW GRID -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">

        <!-- Workouts Today -->
        <div class="card cursor-pointer" onclick="navigate('plan-workout')">
            <h3 class="font-bold text-indigo-600 mb-2">Workouts Today</h3>
            <p class="text-4xl font-black" id="dash-workouts">0</p>
            <p class="text-sm text-gray-500">Sessions completed</p>
        </div>

        <!-- Calories -->
        <div class="card cursor-pointer" onclick="navigate('meal-log')">
            <h3 class="font-bold text-yellow-600 mb-2">Calories</h3>
            <p class="text-xl"><strong id="dash-cal">0</strong> / <span id="dash-cal-goal">0</span></p>
            <p class="text-sm text-gray-500">Remaining: <strong id="dash-cal-rem">0</strong></p>
        </div>

        <!-- Macros -->
        <div class="card cursor-pointer" onclick="navigate('meal-log')">
            <h3 class="font-bold text-green-600 mb-2">Macros</h3>
            <p>Protein: <strong id="dash-prot">0</strong>g</p>
            <p>Carbs: <strong id="dash-carb">0</strong>g</p>
            <p>Fat: <strong id="dash-fat">0</strong>g</p>
        </div>

        <!-- Measurements -->
        <div class="card cursor-pointer" onclick="navigate('body-metrics')">
            <h3 class="font-bold text-purple-600 mb-2">Measurements</h3>
            <p class="text-sm text-gray-500">Latest snapshot</p>
            <p class="font-bold" id="dash-latest-weight">--</p>
        </div>
    </div>

    <!-- QUICK ACCESS BUTTONS (ADD ONLY) -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 pt-4">
        <button onclick="navigate('gym-config')" class="quick-btn">Gym</button>
        <button onclick="navigate('plan-workout')" class="quick-btn">Train</button>
        <button onclick="navigate('meal-log')" class="quick-btn">Eat</button>
        <button onclick="navigate('body-metrics')" class="quick-btn">Measure</button>
    </div>

</div>
<!-- END DASHBOARD VIEW -->

    <!-- =========================================================
     GYM CONFIG VIEW (UNCHANGED)
========================================================= -->
<div id="view-gym-config" class="view-container hidden">
    <header class="bg-white p-6 rounded-2xl shadow-xl">
        <h2 class="text-2xl font-bold">Gym Configuration</h2>
    </header>

    <section class="p-4 space-y-4">
        <form id="gym-config-form" class="space-y-4">
            <div>
                <label class="font-semibold">Gym Name:</label>
                <input type="text" id="gym-name" class="input-field"/>
            </div>
            <div>
                <label class="font-semibold">Location:</label>
                <input type="text" id="gym-location" class="input-field"/>
            </div>
            <div>
                <label class="font-semibold">Preferred Equipment:</label>
                <input type="text" id="gym-equipment" class="input-field"/>
            </div>
            <button type="submit" class="btn-primary">Save Configuration</button>
        </form>
    </section>
</div>

<!-- =========================================================
     PLAN WORKOUT / TRAINING VIEW (UNCHANGED)
========================================================= -->
<div id="view-plan-workout" class="view-container hidden">
    <header class="bg-white p-6 rounded-2xl shadow-xl">
        <h2 class="text-2xl font-bold">Training Plan</h2>
    </header>

    <section class="p-4 space-y-4">
        <form id="workout-form" class="space-y-4">
            <div>
                <label class="font-semibold">Workout Name:</label>
                <input type="text" id="workout-name" class="input-field"/>
            </div>
            <div>
                <label class="font-semibold">Sets:</label>
                <input type="number" id="workout-sets" class="input-field"/>
            </div>
            <div>
                <label class="font-semibold">Reps:</label>
                <input type="number" id="workout-reps" class="input-field"/>
            </div>
            <div>
                <label class="font-semibold">Weight:</label>
                <input type="number" id="workout-weight" class="input-field"/>
            </div>
            <button type="submit" class="btn-primary">Add Workout</button>
        </form>

        <div id="workout-list" class="space-y-2">
            <!-- Existing workouts will appear here -->
        </div>
    </section>
</div>

<!-- =========================================================
     NUTRITION / MEAL LOG VIEW (UNCHANGED STRUCTURE)
========================================================= -->
<div id="view-meal-log" class="view-container hidden">
    <header class="bg-white p-6 rounded-2xl shadow-xl">
        <h2 class="text-2xl font-bold">Nutrition Log</h2>
    </header>

    <section class="p-4 space-y-4">

        <form id="meal-form" class="space-y-4">
            <div>
                <label class="font-semibold">Food Item:</label>
                <input type="text" id="meal-name" class="input-field"/>
            </div>
            <div>
                <label class="font-semibold">Meal Type:</label>
                <select id="meal-type" class="input-field">
                    <option value="Breakfast">Breakfast</option>
                    <option value="Lunch">Lunch</option>
                    <option value="Dinner">Dinner</option>
                    <option value="Snack">Snack</option>
                </select>
            </div>
            <div>
                <label class="font-semibold">Calories:</label>
                <input type="number" id="meal-calories" class="input-field"/>
            </div>
            <div>
                <label class="font-semibold">Protein (g):</label>
                <input type="number" id="meal-protein" class="input-field"/>
            </div>
            <div>
                <label class="font-semibold">Carbs (g):</label>
                <input type="number" id="meal-carbs" class="input-field"/>
            </div>
            <div>
                <label class="font-semibold">Fat (g):</label>
                <input type="number" id="meal-fat" class="input-field"/>
            </div>
            <button type="submit" class="btn-primary">Add Food</button>
        </form>

        <table class="w-full mt-4 border-collapse">
            <thead>
                <tr>
                    <th class="border p-2">Meal Type</th>
                    <th class="border p-2">Food</th>
                    <th class="border p-2">Calories</th>
                    <th class="border p-2">Protein</th>
                    <th class="border p-2">Carbs</th>
                    <th class="border p-2">Fat</th>
                </tr>
            </thead>
            <tbody id="meal-table-body">
                <!-- Meals sorted Breakfast > Lunch > Dinner > Snack -->
            </tbody>
        </table>
    </section>
</div>

<!-- =========================================================
     BODY METRICS VIEW (UNCHANGED)
========================================================= -->
<div id="view-body-metrics" class="view-container hidden">
    <header class="bg-white p-6 rounded-2xl shadow-xl">
        <h2 class="text-2xl font-bold">Body Measurements</h2>
    </header>

    <section class="p-4 space-y-4">
        <form id="body-metrics-form" class="space-y-4">
            <div>
                <label class="font-semibold">Date:</label>
                <input type="date" id="metric-date" class="input-field"/>
            </div>
            <div>
                <label class="font-semibold">Weight (kg):</label>
                <input type="number" id="metric-weight" class="input-field"/>
            </div>
            <div>
                <label class="font-semibold">Body Fat (%):</label>
                <input type="number" id="metric-bf" class="input-field"/>
            </div>
            <div>
                <label class="font-semibold">Muscle Mass (kg):</label>
                <input type="number" id="metric-muscle" class="input-field"/>
            </div>
            <button type="submit" class="btn-primary">Add Metrics</button>
        </form>

        <div id="metrics-history" class="space-y-2">
            <!-- Historical metrics will appear here -->
        </div>
    </section>
</div>

<!-- =========================================================
     HISTORY VIEW (UNCHANGED)
========================================================= -->
<div id="view-history" class="view-container hidden">
    <header class="bg-white p-6 rounded-2xl shadow-xl">
        <h2 class="text-2xl font-bold">History</h2>
    </header>

    <section class="p-4 space-y-4">
        <div id="history-list">
            <!-- All past workouts, meals, metrics -->
        </div>
    </section>
</div>

<script src="app.js"></script>

</body>
</html>
