<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fitness Tracker Dashboard</title>
    <style>
        /* ===== General Styles ===== */
        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f7f6;
            color: #333;
            overflow-x: hidden;
        }

        h1, h2, h3 {
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .view-container {
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
            transition: margin-left 0.3s ease;
        }

        /* ===== Header & Burger Menu ===== */
        #offline-notice {
            display: none;
            position: fixed;
            top: 0;
            width: 100%;
            background-color: #e74c3c;
            color: white;
            text-align: center;
            padding: 10px;
            z-index: 2000;
        }

        #burger-menu {
            position: fixed;
            top: 15px;
            left: 15px;
            cursor: pointer;
            font-size: 28px;
            z-index: 1100;
            background: #1abc9c;
            color: white;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        #side-menu {
            position: fixed;
            top: 0;
            left: -260px;
            width: 250px;
            height: 100%;
            background-color: #2c3e50;
            color: white;
            transition: left 0.3s ease;
            z-index: 1000;
            padding-top: 80px;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
        }

        #side-menu.slide-in {
            left: 0;
        }

        .menu-link {
            display: block;
            color: #bdc3c7;
            text-decoration: none;
            padding: 15px 25px;
            font-size: 16px;
            transition: all 0.2s;
            border-left: 4px solid transparent;
        }

        .menu-link:hover, .menu-link.active-link {
            background-color: #34495e;
            color: white;
            border-left: 4px solid #1abc9c;
        }

        /* ===== Dashboard Grid ===== */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .dashboard-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .dashboard-card p {
            margin: 8px 0;
            font-size: 15px;
        }

        .dashboard-card span {
            font-weight: bold;
            color: #1abc9c;
        }

        /* ===== Forms & Inputs ===== */
        .tab-content {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 14px;
        }

        .std-btn {
            background-color: #1abc9c;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            width: 100%;
            transition: background 0.2s;
        }

        .std-btn:hover {
            background-color: #16a085;
        }

        /* ===== Tables ===== */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
        }

        th, td {
            text-align: left;
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }

        th {
            background-color: #f8f9fa;
            color: #7f8c8d;
            text-transform: uppercase;
            font-size: 12px;
            letter-spacing: 1px;
        }

        /* ===== History ===== */
        .history-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .history-tab {
            flex: 1;
            padding: 10px;
            border: none;
            background: #ecf0f1;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
        }

        .history-tab.active {
            background: #1abc9c;
            color: white;
        }

        .history-view {
            display: none;
            background: white;
            padding: 20px;
            border-radius: 12px;
            min-height: 100px;
        }

        .history-view.active {
            display: block;
        }

        .history-item {
            padding: 10px;
            border-bottom: 1px solid #f1f1f1;
        }

        /* Mobile Adjustment */
        @media (max-width: 600px) {
            .view-container {
                padding-top: 70px;
            }
        }
    </style>
</head>
<body>

<div id="offline-notice">You are currently offline.</div>

<div id="burger-menu">&#9776;</div>
<nav id="side-menu">
    <a href="#" class="menu-link active-link" data-section="dashboard">Dashboard</a>
    <a href="#" class="menu-link" data-section="gym-config">Gym Config</a>
    <a href="#" class="menu-link" data-section="training">Training</a>
    <a href="#" class="menu-link" data-section="nutrition">Nutrition</a>
    <a href="#" class="menu-link" data-section="body-metrics">Body Metrics</a>
    <a href="#" class="menu-link" data-section="history">History</a>
</nav>

<div class="view-container">
    <!-- Dashboard Section -->
    <section id="dashboard" class="tab-content active">
        <h1>Dashboard</h1>
        <div class="dashboard-grid">
            <div class="dashboard-card">
                <h3>Workouts Today</h3>
                <p id="workouts-today">0</p>
            </div>
            <div class="dashboard-card">
                <h3>Nutrition Progress</h3>
                <p>Calories: <span id="calories-today">0</span> / <span id="calories-goal">2000</span></p>
                <p>Protein: <span id="protein-today">0</span> / <span id="protein-goal">150</span>g</p>
                <p>Carbs: <span id="carbs-today">0</span> / <span id="carbs-goal">250</span>g</p>
                <p>Fats: <span id="fats-today">0</span> / <span id="fats-goal">70</span>g</p>
            </div>
            <div class="dashboard-card">
                <h3>Latest Metrics</h3>
                <p>Weight: <span id="weight-today">0</span> kg</p>
                <p>Body Fat: <span id="bodyfat-today">0</span> %</p>
                <p>Muscle: <span id="muscle-today">0</span> kg</p>
            </div>
            <div class="dashboard-card">
                <h3>Lifetime Stats</h3>
                <p>Total Workouts: <span id="total-workouts">0</span></p>
                <p>Total Calories: <span id="total-calories">0</span></p>
            </div>
        </div>
    </section>

    <!-- Gym Config Section -->
    <section id="gym-config" class="tab-content">
        <h1>Gym Configuration</h1>
        <div class="dashboard-card">
            <div class="form-group">
                <label>Gym Name</label>
                <input type="text" id="gym-name" placeholder="Enter gym name">
            </div>
            <div class="form-group">
                <label>Membership Type</label>
                <select id="membership-type">
                    <option value="basic">Basic</option>
                    <option value="premium">Premium</option>
                    <option value="vip">VIP</option>
                </select>
            </div>
            <button class="std-btn" id="save-gym">Save Config</button>
        </div>
    </section>

    <!-- Training Section -->
    <section id="training" class="tab-content">
        <h1>Training</h1>
        <div class="dashboard-card">
            <div class="form-group">
                <label>Exercise Name</label>
                <input type="text" id="exercise-name" placeholder="e.g. Bench Press">
            </div>
            <div style="display: flex; gap: 10px;">
                <div class="form-group" style="flex: 1;">
                    <label>Sets</label>
                    <input type="number" id="sets" placeholder="0">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>Reps</label>
                    <input type="number" id="reps" placeholder="0">
                </div>
            </div>
            <button class="std-btn" id="add-exercise">Add Exercise</button>
        </div>

        <table id="exercise-table">
            <thead>
                <tr>
                    <th>Exercise</th>
                    <th>Sets</th>
                    <th>Reps</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </section>

    <!-- Nutrition Section -->
    <section id="nutrition" class="tab-content">
        <h1>Nutrition</h1>
        <div class="dashboard-card">
            <div class="form-group">
                <label>Meal Type</label>
                <select id="meal-type">
                    <option value="Breakfast">Breakfast</option>
                    <option value="Lunch">Lunch</option>
                    <option value="Dinner">Dinner</option>
                    <option value="Snack">Snack</option>
                </select>
            </div>
            <div class="form-group">
                <label>Food Item</label>
                <input type="text" id="food-name" placeholder="e.g. Chicken Breast">
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <div class="form-group"><label>Calories</label><input type="number" id="food-calories"></div>
                <div class="form-group"><label>Protein (g)</label><input type="number" id="food-protein"></div>
                <div class="form-group"><label>Carbs (g)</label><input type="number" id="food-carbs"></div>
                <div class="form-group"><label>Fats (g)</label><input type="number" id="food-fats"></div>
            </div>
            <button class="std-btn" id="add-food">Log Food</button>
        </div>

        <table id="nutrition-table">
            <thead>
                <tr>
                    <th>Meal</th>
                    <th>Food</th>
                    <th>Cals</th>
                    <th>P/C/F</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </section>

    <!-- Body Metrics Section -->
    <section id="body-metrics" class="tab-content">
        <h1>Body Metrics</h1>
        <div class="dashboard-card">
            <div class="form-group">
                <label>Weight (kg)</label>
                <input type="number" step="0.1" id="weight">
            </div>
            <div class="form-group">
                <label>Body Fat (%)</label>
                <input type="number" step="0.1" id="bodyfat">
            </div>
            <div class="form-group">
                <label>Muscle Mass (kg)</label>
                <input type="number" step="0.1" id="muscle-mass">
            </div>
            <button class="std-btn" id="save-metrics">Save Metrics</button>
        </div>
    </section>

    <!-- History Section -->
    <section id="history" class="tab-content">
        <h1>History</h1>
        <div class="history-tabs">
            <button class="history-tab active" data-tab="workouts-history">Workouts</button>
            <button class="history-tab" data-tab="nutrition-history">Nutrition</button>
            <button class="history-tab" data-tab="metrics-history">Metrics</button>
        </div>

        <div id="workouts-history" class="history-view active"></div>
        <div id="nutrition-history" class="history-view"></div>
        <div id="metrics-history" class="history-view"></div>
    </section>
</div>

<script>
    // ===== Data Stores =====
    let exerciseData = [];
    let nutritionData = [];
    let bodyMetricsData = [];
    let nutritionGoal = {calories: 2000, protein: 150, carbs: 250, fats: 70};

    // ===== Navigation & UI =====
    const burger = document.getElementById('burger-menu');
    const sideMenu = document.getElementById('side-menu');
    const menuLinks = document.querySelectorAll('.menu-link');
    const tabContents = document.querySelectorAll('.tab-content');

    burger.addEventListener('click', (e) => {
        e.stopPropagation();
        sideMenu.classList.toggle('slide-in');
    });

    document.addEventListener('click', (e) => {
        if (!sideMenu.contains(e.target) && !burger.contains(e.target)) {
            sideMenu.classList.remove('slide-in');
        }
    });

    menuLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const sectionId = link.dataset.section;
            
            tabContents.forEach(tab => tab.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');

            menuLinks.forEach(l => l.classList.remove('active-link'));
            link.classList.add('active-link');
            sideMenu.classList.remove('slide-in');
            
            if(sectionId === 'history') renderHistoryTab('workouts-history');
        });
    });

    // ===== Dashboard Updating =====
    function updateDashboard() {
        document.getElementById('workouts-today').textContent = exerciseData.length;

        let totalCalories = 0, totalProtein = 0, totalCarbs = 0, totalFats = 0;
        nutritionData.forEach(food => {
            totalCalories += food.calories || 0;
            totalProtein += food.protein || 0;
            totalCarbs += food.carbs || 0;
            totalFats += food.fats || 0;
        });

        document.getElementById('calories-today').textContent = totalCalories;
        document.getElementById('protein-today').textContent = totalProtein;
        document.getElementById('carbs-today').textContent = totalCarbs;
        document.getElementById('fats-today').textContent = totalFats;

        document.getElementById('calories-goal').textContent = nutritionGoal.calories;
        document.getElementById('protein-goal').textContent = nutritionGoal.protein;
        document.getElementById('carbs-goal').textContent = nutritionGoal.carbs;
        document.getElementById('fats-goal').textContent = nutritionGoal.fats;

        const latestMetrics = bodyMetricsData[bodyMetricsData.length - 1] || {weight: 0, bodyfat:0, muscle:0};
        document.getElementById('weight-today').textContent = latestMetrics.weight;
        document.getElementById('bodyfat-today').textContent = latestMetrics.bodyfat;
        document.getElementById('muscle-today').textContent = latestMetrics.muscle;

        document.getElementById('total-workouts').textContent = exerciseData.length;
        document.getElementById('total-calories').textContent = totalCalories;
    }

    // ===== Gym Config =====
    document.getElementById('save-gym').addEventListener('click', () => {
        const gymName = document.getElementById('gym-name').value;
        const membershipType = document.getElementById('membership-type').value;
        localStorage.setItem('gymConfig', JSON.stringify({gymName, membershipType}));
        alert('Gym configuration saved locally!');
    });

    // ===== Training =====
    const exerciseTableBody = document.querySelector('#exercise-table tbody');

    document.getElementById('add-exercise').addEventListener('click', () => {
        const name = document.getElementById('exercise-name').value;
        const sets = parseInt(document.getElementById('sets').value);
        const reps = parseInt(document.getElementById('reps').value);

        if(!name || isNaN(sets) || isNaN(reps)) {
            return alert('Please enter exercise name, sets, and reps.');
        }

        exerciseData.push({name, sets, reps});
        renderExerciseTable();
        updateDashboard();
        
        // Clear inputs
        document.getElementById('exercise-name').value = '';
        document.getElementById('sets').value = '';
        document.getElementById('reps').value = '';
    });

    function renderExerciseTable() {
        exerciseTableBody.innerHTML = '';
        exerciseData.forEach(ex => {
            const row = document.createElement('tr');
            row.innerHTML = `<td>${ex.name}</td><td>${ex.sets}</td><td>${ex.reps}</td>`;
            exerciseTableBody.appendChild(row);
        });
    }

    // ===== Nutrition =====
    const nutritionTableBody = document.querySelector('#nutrition-table tbody');

    document.getElementById('add-food').addEventListener('click', () => {
        const mealType = document.getElementById('meal-type').value;
        const name = document.getElementById('food-name').value;
        const calories = parseInt(document.getElementById('food-calories').value);
        const protein = parseInt(document.getElementById('food-protein').value);
        const carbs = parseInt(document.getElementById('food-carbs').value);
        const fats = parseInt(document.getElementById('food-fats').value);

        if(!name || isNaN(calories)) return alert('Minimum requirement: Food Name and Calories');

        nutritionData.push({meal: mealType, name, calories, protein, carbs, fats});
        nutritionData.sort((a,b)=>{
            const order = ['Breakfast','Lunch','Dinner','Snack'];
            return order.indexOf(a.meal) - order.indexOf(b.meal);
        });
        renderNutritionTable();
        updateDashboard();

        // Clear inputs
        ['food-name','food-calories','food-protein','food-carbs','food-fats'].forEach(id => document.getElementById(id).value = '');
    });

    function renderNutritionTable() {
        nutritionTableBody.innerHTML = '';
        nutritionData.forEach(f => {
            const row = document.createElement('tr');
            row.innerHTML = `<td>${f.meal}</td><td>${f.name}</td><td>${f.calories}</td><td>${f.protein}/${f.carbs}/${f.fats}</td>`;
            nutritionTableBody.appendChild(row);
        });
    }

    // ===== Body Metrics =====
    document.getElementById('save-metrics').addEventListener('click', () => {
        const weight = parseFloat(document.getElementById('weight').value);
        const bodyfat = parseFloat(document.getElementById('bodyfat').value);
        const muscle = parseFloat(document.getElementById('muscle-mass').value);

        if(isNaN(weight)) return alert('Please enter at least your weight.');

        bodyMetricsData.push({weight, bodyfat: bodyfat || 0, muscle: muscle || 0});
        updateDashboard();
        alert('Metrics updated!');
    });

    // ===== History Functionality =====
    const historyTabs = document.querySelectorAll('.history-tab');
    const historyViews = document.querySelectorAll('.history-view');

    historyTabs.forEach(tab => {
        tab.addEventListener('click', () => {
            historyTabs.forEach(t => t.classList.remove('active'));
            tab.classList.add('active');
            
            const tabId = tab.dataset.tab;
            historyViews.forEach(view => view.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            renderHistoryTab(tabId);
        });
    });

    function renderHistoryTab(tabId){
        const view = document.getElementById(tabId);
        view.innerHTML = '';
        
        let dataToRender = [];
        if(tabId === 'workouts-history') dataToRender = exerciseData.map(ex => `${ex.name}: ${ex.sets}x${ex.reps}`);
        else if(tabId === 'nutrition-history') dataToRender = nutritionData.map(f => `${f.meal} - ${f.name} (${f.calories} kcal)`);
        else if(tabId === 'metrics-history') dataToRender = bodyMetricsData.map(m => `Weight: ${m.weight}kg | BF: ${m.bodyfat}% | Muscle: ${m.muscle}kg`);

        if(dataToRender.length === 0) {
            view.innerHTML = '<p style="color: #999; text-align: center;">No data logged yet.</p>';
            return;
        }

        dataToRender.forEach(text => {
            const item = document.createElement('div');
            item.className = 'history-item';
            item.textContent = text;
            view.appendChild(item);
        });
    }

    // ===== Online/Offline Status =====
    window.addEventListener('online', () => document.getElementById('offline-notice').style.display = 'none');
    window.addEventListener('offline', () => document.getElementById('offline-notice').style.display = 'block');

    // Initial Dashboard Update
    updateDashboard();

</script>
</body>
</html>


